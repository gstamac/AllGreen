var AllGreen;(function(n){var u=function(){function n(){}return n.prototype.create=function(n){return new t(n)},n.prototype.getName=function(){return"jasmine"},n}(),t,i,r;n.JasmineAdapterFactory=u,t=function(){function t(n){this.reporter=n}return t.prototype.reportRunnerStarting=function(n){this.reporter.started(n.specs().length)},t.prototype.reportRunnerResults=function(){this.reporter.finished()},t.prototype.reportSuiteResults=function(){},t.prototype.reportSpecStarting=function(t){var r=new i(t,n.SpecStatus.Running);this.reporter.specUpdated(r)},t.prototype.reportSpecResults=function(n){this.reporter.specUpdated(new i(n))},t.prototype.log=function(){},t.prototype.specFilter=function(){return!0},t.prototype.start=function(){var n=jasmine.getEnv();n.addReporter(this),n.execute()},t.convertIdToGuid=function(n){var t="000000000000000000000000000000000000000"+n;return t.substr(-32,8)+"-"+t.substr(-24,4)+"-"+t.substr(-20,4)+"-"+t.substr(-16,4)+"-"+t.substr(-12)},t}(),n.JasmineAdapter=t,i=function(){function i(i,u){typeof u=="undefined"&&(u=n.SpecStatus.Undefined),this.id=t.convertIdToGuid(i.id),this.name=i.description,this.status=u,this.time=Date.now(),this.steps=[],this.suite=new r(i.suite),this.status==n.SpecStatus.Undefined&&this.calculateStatus(i),this.status==n.SpecStatus.Failed&&this.calculateSteps(i)}return i.prototype.calculateStatus=function(t){var i=t.results();this.status=i.skipped?n.SpecStatus.Skipped:i.passed()?n.SpecStatus.Passed:n.SpecStatus.Failed},i.prototype.calculateSteps=function(t){var r=t.results().getItems(),u,i,f;if(r&&r.length)for(this.steps=[],u=0;u<r.length;u++)i=r[u],i.type==="log"?this.steps.push({message:i.toString(),errorLocation:null,status:n.SpecStatus.Undefined,trace:""}):i.type==="expect"&&(f=i,f.passed()||this.steps.push(this.createFailedStep(f.message,f.trace.stack)))},i.prototype.createFailedStep=function(t,i){var u=this.formatException(t),f=i?this.formatTraceStack(i,u):"",r={message:u,errorLocation:null,status:n.SpecStatus.Failed,trace:f};return(t.fileName||t.sourceURL)&&(r.errorLocation=t.fileName||t.sourceURL,(t.line||t.lineNumber)&&(r.errorLocation+=":"+(t.line||t.lineNumber),t.columnNumber&&(r.errorLocation+=":"+t.columnNumber))),r},i.prototype.formatException=function(n){return typeof n=="string"?n:n.name+": "+n.message},i.prototype.formatTraceStack=function(n,t){return n.substring(0,t.length+1)==t+"\n"&&(n=n.substring(t.length+1)),n.replace("/^"+t+"\n/g","").replace(/[^\n]+\/jasmine\.js[\:\d)]+(\n|$)/g,"").replace(/[\n]+$/,"")},i}(),r=function(){function n(i){this.id=t.convertIdToGuid(i.id),this.name=i.description,this.parentSuite=null,i.parentSuite&&(this.parentSuite=new n(i.parentSuite))}return n}()})(AllGreen||(AllGreen={})),function(){AllGreenApp!=null&&(AllGreenApp.log("registering Jasmine adapter factory"),AllGreenApp.registerAdapterFactory(new AllGreen.JasmineAdapterFactory),jasmine.util.formatException=function(n){return n})}()