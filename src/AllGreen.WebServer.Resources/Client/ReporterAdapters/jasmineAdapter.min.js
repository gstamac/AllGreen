var AllGreen;(function(n){var u=function(){function n(){}return n.prototype.create=function(n){return new t(n)},n}(),t,i,r;n.JasmineAdapterFactory=u,t=function(){function t(n){this.reporter=n}return t.prototype.reportRunnerStarting=function(){this.reporter.started()},t.prototype.reportRunnerResults=function(){this.reporter.finished()},t.prototype.reportSuiteResults=function(){},t.prototype.reportSpecStarting=function(t){var r=new i(t,n.SpecStatus.Running);this.reporter.specUpdated(r)},t.prototype.reportSpecResults=function(n){this.reporter.specUpdated(new i(n))},t.prototype.log=function(){},t.prototype.specFilter=function(){return!0},t.prototype.start=function(){var n=jasmine.getEnv();n.addReporter(this),n.execute()},t}(),n.JasmineAdapter=t,i=function(){function t(t,i){typeof i=="undefined"&&(i=n.SpecStatus.Undefined),this.id=t.id,this.name=t.description,this.status=i,this.steps=[],this.suite=new r(t.suite),this.status==n.SpecStatus.Undefined&&this.calculateStatus(t),this.status==n.SpecStatus.Failed&&this.calculateSteps(t)}return t.prototype.calculateStatus=function(t){var i=t.results();this.status=i.skipped?n.SpecStatus.Skipped:i.passed()?n.SpecStatus.Passed:n.SpecStatus.Failed},t.prototype.calculateSteps=function(t){var u=t.results().getItems(),f,r,i;if(u&&u.length)for(this.steps=[],f=0;f<u.length;f++)r=u[f],r.type==="log"?this.steps.push({message:r.toString(),status:n.SpecStatus.Undefined,trace:""}):r.type==="expect"&&(i=r,i.passed()||(i.trace.stack?this.steps.push({message:i.message,status:n.SpecStatus.Failed,trace:this.formatTraceStack(i.trace.stack)}):this.steps.push({message:i.message,status:n.SpecStatus.Failed,trace:""})))},t.prototype.formatTraceStack=function(n){return n.replace(/[^\n]+jasmine\.js\:\d+(\n|$)/g,"").replace(/[\n]+$/,"")},t}(),r=function(){function n(t){this.id=t.id,this.name=t.description,this.parentSuite=null,t.parentSuite&&(this.parentSuite=new n(t.parentSuite))}return n}()})(AllGreen||(AllGreen={})),function(){var n=AllGreen.App.getCurrent();n!=null&&(console.log("registering Jasmine adapter factory"),n.registerAdapterFactory(new AllGreen.JasmineAdapterFactory))}()