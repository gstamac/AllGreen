var AllGreen;(function(n){var u=function(){function n(){}return n.prototype.create=function(n){return new t(n)},n}(),t,i,r;n.JasmineAdapterFactory=u,t=function(){function t(n){this.reporter=n}return t.prototype.reportRunnerStarting=function(n){this.reporter.started(n.specs().length)},t.prototype.reportRunnerResults=function(){this.reporter.finished()},t.prototype.reportSuiteResults=function(){},t.prototype.reportSpecStarting=function(t){var r=new i(t,n.SpecStatus.Running);this.reporter.specUpdated(r)},t.prototype.reportSpecResults=function(n){this.reporter.specUpdated(new i(n))},t.prototype.log=function(){},t.prototype.specFilter=function(){return!0},t.prototype.start=function(){var n=jasmine.getEnv();n.addReporter(this),n.execute()},t.convertIdToGuid=function(n){var t="000000000000000000000000000000000000000"+n;return t.substr(-32,8)+"-"+t.substr(-24,4)+"-"+t.substr(-20,4)+"-"+t.substr(-16,4)+"-"+t.substr(-12)},t}(),n.JasmineAdapter=t,i=function(){function i(i,u){typeof u=="undefined"&&(u=n.SpecStatus.Undefined),this.id=t.convertIdToGuid(i.id),this.name=i.description,this.status=u,this.steps=[],this.suite=new r(i.suite),this.status==n.SpecStatus.Undefined&&this.calculateStatus(i),this.status==n.SpecStatus.Failed&&this.calculateSteps(i)}return i.prototype.calculateStatus=function(t){var i=t.results();this.status=i.skipped?n.SpecStatus.Skipped:i.passed()?n.SpecStatus.Passed:n.SpecStatus.Failed},i.prototype.calculateSteps=function(t){var u=t.results().getItems(),f,r,i;if(u&&u.length)for(this.steps=[],f=0;f<u.length;f++)r=u[f],r.type==="log"?this.steps.push({message:r.toString(),status:n.SpecStatus.Undefined,trace:""}):r.type==="expect"&&(i=r,i.passed()||(i.trace.stack?this.steps.push({message:i.message,status:n.SpecStatus.Failed,trace:this.formatTraceStack(i.trace.stack)}):this.steps.push({message:i.message,status:n.SpecStatus.Failed,trace:""})))},i.prototype.formatTraceStack=function(n){return n.replace(/[^\n]+jasmine\.js\:\d+(\n|$)/g,"").replace(/[\n]+$/,"")},i}(),r=function(){function n(i){this.id=t.convertIdToGuid(i.id),this.name=i.description,this.parentSuite=null,i.parentSuite&&(this.parentSuite=new n(i.parentSuite))}return n}()})(AllGreen||(AllGreen={})),function(){var n=AllGreen.App.getCurrent();n!=null&&(n.log("registering Jasmine adapter factory"),n.registerAdapterFactory(new AllGreen.JasmineAdapterFactory))}()